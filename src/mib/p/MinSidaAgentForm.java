/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package mib.p;

import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;
import oru.inf.InfDB;
import oru.inf.InfException;

/**
 *
 * @author ASUS
 */
public class MinSidaAgentForm extends javax.swing.JPanel {
    private static InfDB idb;
    private final String epost;
    private final String isAdmin;

    /**
     * Creates new form MinSidaAgentForm
     * @param epost
     * @param isAdmin
     */
    public MinSidaAgentForm(String epost,String isAdmin) {
        initComponents();
        
         try {
            idb = new InfDB("mibdb", "3306", "mibdba", "mibkey");
        } catch (InfException ex) {
            JOptionPane.showMessageDialog(null, "Något gick fel!");
            System.out.println("Internt felmeddelande" + ex.getMessage());
        }
         this.epost = epost;
         this.isAdmin = isAdmin;
        
         
         btnAdminFunktioner.setVisible(false);
         btnAdminFunktioner.setEnabled(false);
         if(isAdmin.equals("J"))
         {
         btnAdminFunktioner.setVisible(true);
         btnAdminFunktioner.setEnabled(true);
         }
         setValkommen();
         
    }

 

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btnAdminFunktioner = new javax.swing.JButton();
        lblMinSida = new javax.swing.JLabel();
        lblValkommenNamn = new javax.swing.JLabel();
        btnRegisteraAlien = new javax.swing.JButton();
        btnListaRas = new javax.swing.JButton();
        btnRegistreradeAliens = new javax.swing.JButton();
        btnAlienSok = new javax.swing.JButton();
        btnAndraLosenord = new javax.swing.JButton();
        btnAndraAlienInfo = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
        btnUtrustning = new javax.swing.JButton();

        setMaximumSize(new java.awt.Dimension(550, 343));
        setMinimumSize(new java.awt.Dimension(550, 343));

        btnAdminFunktioner.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnAdminFunktioner.setText("Admin-funktioner");
        btnAdminFunktioner.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAdminFunktionerActionPerformed(evt);
            }
        });

        lblMinSida.setFont(new java.awt.Font("MS Gothic", 1, 48)); // NOI18N
        lblMinSida.setText("Min sida");

        lblValkommenNamn.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        lblValkommenNamn.setText("Värkommen Namn");

        btnRegisteraAlien.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnRegisteraAlien.setText("Registrera Alien");
        btnRegisteraAlien.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRegisteraAlienActionPerformed(evt);
            }
        });

        btnListaRas.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnListaRas.setText("Lista Ras");
        btnListaRas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnListaRasActionPerformed(evt);
            }
        });

        btnRegistreradeAliens.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnRegistreradeAliens.setText("Registrerade Aliens");
        btnRegistreradeAliens.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRegistreradeAliensActionPerformed(evt);
            }
        });

        btnAlienSok.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnAlienSok.setText("Sök Alien");
        btnAlienSok.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAlienSokActionPerformed(evt);
            }
        });

        btnAndraLosenord.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnAndraLosenord.setText("Ändra Lösenord");
        btnAndraLosenord.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAndraLosenordActionPerformed(evt);
            }
        });

        btnAndraAlienInfo.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnAndraAlienInfo.setText("Ändra info");
        btnAndraAlienInfo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAndraAlienInfoActionPerformed(evt);
            }
        });

        jButton1.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        jButton1.setText("Aliens på en plats");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        btnUtrustning.setFont(new java.awt.Font("MS Gothic", 1, 14)); // NOI18N
        btnUtrustning.setText("Utrustning");
        btnUtrustning.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUtrustningActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(159, 159, 159)
                        .addComponent(lblMinSida))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(187, 187, 187)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButton1)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(btnListaRas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(btnRegisteraAlien, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))))
                .addContainerGap(188, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addComponent(btnAndraLosenord)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnAdminFunktioner)
                        .addGap(24, 24, 24))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(lblValkommenNamn, javax.swing.GroupLayout.PREFERRED_SIZE, 269, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(73, 73, 73))))
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(168, 168, 168)
                        .addComponent(btnRegistreradeAliens, javax.swing.GroupLayout.PREFERRED_SIZE, 194, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(212, 212, 212)
                        .addComponent(btnAlienSok))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(211, 211, 211)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(btnUtrustning)
                            .addComponent(btnAndraAlienInfo))))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addComponent(lblMinSida)
                .addGap(18, 18, 18)
                .addComponent(lblValkommenNamn)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jButton1)
                .addGap(5, 5, 5)
                .addComponent(btnRegisteraAlien)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnListaRas)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnRegistreradeAliens)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnAlienSok)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnAndraAlienInfo)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 20, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(btnAdminFunktioner)
                            .addComponent(btnAndraLosenord))
                        .addGap(29, 29, 29))
                    .addGroup(layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnUtrustning)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
    }// </editor-fold>//GEN-END:initComponents
 private void setValkommen()
   {
       try {
           lblValkommenNamn.setText("Välkommen "+idb.fetchSingle("SELECT Namn FROM mibdb.agent WHERE Epost = '"+epost+"'"));
   }
       catch(InfException e) {
            JOptionPane.showMessageDialog(null, "Något gick fel, testa igen!");
       }}
    private void btnAdminFunktionerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAdminFunktionerActionPerformed
          JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new AdminFunktionerForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Administratörsfunktioner");
                frame.repaint();
    }//GEN-LAST:event_btnAdminFunktionerActionPerformed

    private void btnRegisteraAlienActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegisteraAlienActionPerformed
        JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new RegisteraForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Registrera ny Alien");
                frame.repaint();
    }//GEN-LAST:event_btnRegisteraAlienActionPerformed

    private void btnListaRasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnListaRasActionPerformed
       JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new ListaAlienForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Sök ras");
                frame.repaint();
    }//GEN-LAST:event_btnListaRasActionPerformed

    private void btnRegistreradeAliensActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegistreradeAliensActionPerformed
       JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new RegistreradeAliensForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Sök Registrerade Aliens");
                frame.repaint();
    }//GEN-LAST:event_btnRegistreradeAliensActionPerformed

    private void btnAlienSokActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAlienSokActionPerformed
        JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new AlienSokForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Sök Alien");
                frame.repaint();
    }//GEN-LAST:event_btnAlienSokActionPerformed

    private void btnAndraLosenordActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAndraLosenordActionPerformed
        JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new AndraLosenOrdAgentForm(epost, isAdmin));
                frame.revalidate();
                frame.setTitle("Ändra lösenord");
                frame.repaint();
    }//GEN-LAST:event_btnAndraLosenordActionPerformed

    private void btnAndraAlienInfoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAndraAlienInfoActionPerformed
        JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new AndraAlienInfoForm(epost, isAdmin));
                frame.revalidate();
                frame.setTitle("Uppdatera Alien-information.");
                frame.repaint();
    }//GEN-LAST:event_btnAndraAlienInfoActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new HittaAlienPlats(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Lista alla aliens på en angiven plats");
                frame.repaint();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void btnUtrustningActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUtrustningActionPerformed
        JFrame frame = (JFrame) SwingUtilities.getWindowAncestor(MinSidaAgentForm.this);
                frame.setContentPane(new SeDinUtrustningForm(epost,isAdmin));
                frame.revalidate();
                frame.setTitle("Din utrustning");
                frame.repaint();
    }//GEN-LAST:event_btnUtrustningActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAdminFunktioner;
    private javax.swing.JButton btnAlienSok;
    private javax.swing.JButton btnAndraAlienInfo;
    private javax.swing.JButton btnAndraLosenord;
    private javax.swing.JButton btnListaRas;
    private javax.swing.JButton btnRegisteraAlien;
    private javax.swing.JButton btnRegistreradeAliens;
    private javax.swing.JButton btnUtrustning;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel lblMinSida;
    private javax.swing.JLabel lblValkommenNamn;
    // End of variables declaration//GEN-END:variables
}
